#!/bin/bash

SEARCH_DIR="/path/to/sosreport"  # Replace with your sosreport directory path
SEARCH_STRING="umac-64-etm@openssh.com"
OUTPUT_FILE="found_files.txt"

# Ensure the output file is empty
> $OUTPUT_FILE

# Function to search string in directory
search_string_in_dir() {
    for file in $(grep -Rl "$SEARCH_STRING" "$SEARCH_DIR"); do
        echo $file >> $OUTPUT_FILE
    done
}

echo "Searching for '$SEARCH_STRING' in $SEARCH_DIR..."
search_string_in_dir
echo "Search complete. Check '$OUTPUT_FILE' for filenames."
